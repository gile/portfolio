<!DOCTYPE html>
<meta charset="utf-8">
<style>
#container {
	width: 1400px;
	height: 600px;
	border: 1px solid grey;
	margin: 40px;
}
</style>
<link rel="stylesheet" type="text/css" href="arcs.css">

<body>
<div id="container" class="ARCS"></div>

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/d3.geo.projection.v0.min.js" charset="utf-8"></script>
<script src="http://localhost:88/underscore-min.js"></script>
<script src="http://localhost:88/utility.functions.js"></script>
<script src="arcs.js"></script>
<script src="http://localhost:88/world-countries.js"></script>
<script>
	$( document ).ready(function() {
	    console.log( "ready!" );

	    var parent = $('#container').get(0);

	    var measureScale = d3.scale.linear().domain([0,1]).range([10, 1000]);

	    var countryLinks = [
	    		{name: "United States", exportDest: ["Argentina", "United Kingdom", "Mexico", "Japan", "China", "Canada"]},
	    		{name: "United Kingdom", exportDest:  ["United States", "Spain", "Italy", "Egypt", "Brazil"]},
	    		{name: "Germany", exportDest:  ["Poland", "Russian Federation", "India", "Canada"]},
	    		{name: "Israel", exportDest:  ["United States", "France", "China"]},
	    		{name: "Australia", exportDest:  ["Indonesia", "Pakistan", "South Africa", "South Korea"]}
	    	];

	    var inputData = {
	    	metadata: {
	    		"src": {index: 0},
	    		"dest": {index: 1},
	    		"measure": {index: 2},
	    		"byIndex": {0: {title: "src"}, 1: {title: "dest"}, 2: {title: "measure"}}
	    	},
	    	data: []
	    };

	    for (var i=0; i<countryLinks.length; ++i) {
	    	for (var j=0; j<countryLinks[i].exportDest.length; ++j) {
		    	var measure = measureScale(Math.random());

		    	var entry = [
		    		countryLinks[i].name,
		    		countryLinks[i].exportDest[j],
		    		{data: measure, text: measure.toFixed(0)}		    		
		    	];

		    	inputData.data.push(entry);
		    }
	    }

	    ARC_MAP_EXTENSION.createArcMap("arcs", inputData, parent, null, {});
	});
</script>

